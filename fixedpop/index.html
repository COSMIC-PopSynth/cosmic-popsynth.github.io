

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Generate a population the cosmic way &mdash; cosmic 0+untagged.370.geaeea39.dirty documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/cosmic-docs.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="cosmic 0+untagged.370.geaeea39.dirty documentation" href="../index.html"/>
        <link rel="prev" title="Generate a binary population by hand" href="../runpop/index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> cosmic
          

          
          </a>

          
            
            
              <div class="version">
                0+untagged.370.geaeea39.dirty
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Using cosmic to run BSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runpop/index.html">Generate a binary population by hand</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Generate a population the <cite>cosmic</cite> way</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#runfixedpop">runFixedPop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#inputs">Inputs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sample-command-line">Sample command line</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#output-of-runfixedpop">Output of runFixedPop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gxrealization">gxRealization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Inputs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#thindisk">ThinDisk</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bulge">Bulge</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thickdisk">ThickDisk</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Sample command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-of-gxrealization">Output of gxRealization</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cosmic</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Generate a population the <cite>cosmic</cite> way</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/fixedpop/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="generate-a-population-the-cosmic-way">
<span id="fixedpop"></span><h1>Generate a population the <cite>cosmic</cite> way<a class="headerlink" href="#generate-a-population-the-cosmic-way" title="Permalink to this headline">¶</a></h1>
<p>There are two executables that are installed when you pip install cosmic:</p>
<ul class="simple">
<li>runFixedPop</li>
<li>gxRealization</li>
</ul>
<p>These two executables generate the two components of a cosmic Milky Way population.</p>
<div class="section" id="runfixedpop">
<h2>runFixedPop<a class="headerlink" href="#runfixedpop" title="Permalink to this headline">¶</a></h2>
<p>The <cite>fixed population</cite> is generated first and is designed to fully describe the population of binaries that results from a user specified star formation history (SFH) and binary evolution model (BSEDict, specified in an inifile). The arguments necessary to run the runFixedPop executable can be found using the help command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ runFixedPop -h
</pre></div>
</div>
<div class="highlight-text"><div class="highlight"><pre><span></span>usage: runFixedPop [-h] --inifile INIFILE --final_kstar1 FINAL_KSTAR1
                   [FINAL_KSTAR1 ...] --final_kstar2 FINAL_KSTAR2
                   [FINAL_KSTAR2 ...]
                   [--convergence-params CONVERGENCE_PARAMS [CONVERGENCE_PARAMS ...]]
                   [--initial_samp INITIAL_SAMP] --galaxy_component
                   GALAXY_COMPONENT --metallicity METALLICITY --porb_cut
                   PORB_CUT [--Niter NITER] [--Nstep NSTEP] [-n NPROC]
                   [--verbose]

optional arguments:
  -h, --help            show this help message and exit
  --inifile INIFILE     Name of ini file of params
  --final_kstar1 FINAL_KSTAR1 [FINAL_KSTAR1 ...]
                        Specify the final condition of kstar1, you want
                        systems to end at for your samples
  --final_kstar2 FINAL_KSTAR2 [FINAL_KSTAR2 ...]
                        Specify the final condition of kstar2, you want
                        systems to end at for your samples
  --convergence-params CONVERGENCE_PARAMS [CONVERGENCE_PARAMS ...]
                        A space separated list of parameters you would like to
                        varify you have simulated enough binaries for
  --initial_samp INITIAL_SAMP
                        Specify if independent binary initial conditions:
                        independent, or following Moe &amp; Di Stefano (2017):
                        multidim
  --galaxy_component GALAXY_COMPONENT
                        Galaxy Components. Options include Bulge ThinDisk and
                        ThickDisk
  --metallicity METALLICITY
                        Metallicity of the population; default: 0.02 (solar)
  --porb_cut PORB_CUT   Specify an orbital period cut in log10(sec); default:
                        12
  --Niter NITER         Number of iterations of binaries to try, will check
                        ever Nstep for convergence
  --Nstep NSTEP         Number of binaries to try before checking for
                        convergence, it will check ever Nstep binaries until
                        it reach Niter binaries
  -n NPROC, --nproc NPROC
                        number of processors
  --verbose             Run in Verbose Mode
</pre></div>
</div>
<div class="section" id="inputs">
<h3>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h3>
<p>There are currently three SFHs implemented in cosmic, one each for the Milky Way thin disk, thick disk and bulge. Their assumptions are as follows:</p>
<ul class="simple">
<li>ThinDisk : constant star formation over 10 Gyr; the metallicity for the thin disk is traditionally set to solar</li>
<li>ThickDisk : a 1 Gyr burst of constant star formation 11 Gyr in the past; the metallicity for the thick disk is traditionally set to be subsolar, we reccommend 15% solar</li>
<li>Bulge : a 1 Gyr burst of constant 10 Gyr in the past; the metallicity for the bulge is traditionally set to solar</li>
</ul>
<p>New implementations of SFHs will be added to the sample_SFH modules in the independent and multidim samplers.</p>
<div class="section" id="sample-command-line">
<h4>Sample command line<a class="headerlink" href="#sample-command-line" title="Permalink to this headline">¶</a></h4>
<p>Below is an example command line call for runFixedPop:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ runFixedPop --final_kstar1 <span class="m">11</span> --final_kstar2 <span class="m">10</span> <span class="m">11</span> --inifile examples/Params.ini --galaxy_component ThinDisk --metallicity <span class="m">0</span>.02 --convergence-params mass_1 mass_2 porb ecc --initial_samp multidim --Nstep <span class="m">5000</span> --Niter <span class="m">10000000</span> -n <span class="m">1</span>
</pre></div>
</div>
<p>A breakdown of each argument follos:</p>
<ul class="simple">
<li>&#8211;final_ktar1 11 &#8211;final_kstar2 10 11 : this tells cosmic to keep all systems where the primary star is a CO WD and the secondary star is either a CO or He WD.</li>
<li>&#8211;inifile examples/Params.ini : this tells cosmic where to look for the BSE flags that set the binary evolution model</li>
<li>&#8211;galaxy_component ThinDisk : this tells cosmic to run a Milky Way thin disk, which will implement constant star formation history over 10 Gyr</li>
<li>&#8211;metallicity 0.02 : this tells cosmic to use solar metallicity for every binary evolved</li>
<li>&#8211;convergence-params mass_1 mass_2 porb ecc : this tells cosmic to watch how the distributions of the masses, orbital period, and eccentricity of the binaries change with each iterated population</li>
<li>&#8211;initial_samp multidim : this tells cosmic to initialize the binaries with multidimensional parameter distributions according to Moe &amp; Di Stefano 2017</li>
<li>&#8211;Nstep 5000 &#8211;Niter 10000000 -n 1 : this tells cosmic to use 1 processor to evolve a maximum of 1e7 systems and check in every 5000 systems to track how the shape of the distributions of the parameters specified in convergence-params change</li>
</ul>
<p>There are two stop conditions for runFixedPop:</p>
<ol class="arabic simple">
<li>the shape of the parameter distributions for the parameters specified in &#8211;convergence-params converge to a shape, regardelss of adding new binaries to the evolved population. This is quantified by the match criteria detailed in Breivik+2018 in prep</li>
<li>the number of binaries evolved exceeds Niter.</li>
</ol>
</div>
</div>
<div class="section" id="output-of-runfixedpop">
<h3>Output of runFixedPop<a class="headerlink" href="#output-of-runfixedpop" title="Permalink to this headline">¶</a></h3>
<p>The output of runFixed pop is the <cite>fixed population</cite>, an hdf5 file with a naming scheme that tells you the Galactic component and final kstars of the population; the data file created by the runFixedPop call above is: dat_ThinDisk_11_10_11.h5.</p>
<p>The fixed population contains three pandas DataFrames accessed by the following keys:</p>
<ul class="simple">
<li>bcm : The final state of the converged population at the present epoch</li>
<li>bpp : The evolutionary history of the systems in the bcm data set</li>
<li>initCond : The initial conditions for each binary in the bcm data set</li>
</ul>
<p>Each of these DataFrames shares a common &#8216;binary_number&#8217; column which is used to index the population.</p>
</div>
</div>
<div class="section" id="gxrealization">
<h2>gxRealization<a class="headerlink" href="#gxrealization" title="Permalink to this headline">¶</a></h2>
<p>The gxRealization exectuable uses the fixed population and a model for the spatial distribution of systems in a given Galactic component to Monte Carlo sample synthetic Milky Way population realizations. The necessary arguments for the gxRealization executable can be accessed using the help:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ gxRealization -h
</pre></div>
</div>
<div class="highlight-text"><div class="highlight"><pre><span></span>usage: gxRealization [-h] --galaxy_component GALAXY_COMPONENT --dist_model
                     DIST_MODEL --final_kstar1 FINAL_KSTAR1 [FINAL_KSTAR1 ...]
                     --final_kstar2 FINAL_KSTAR2 [FINAL_KSTAR2 ...]
                     [--N_realizations N_REALIZATIONS] [-n NPROC]
                     [--gx_save GX_SAVE] [--HG_save HG_SAVE]
                     [--LISA_calc LISA_CALC] [--verbose]

optional arguments:
  -h, --help            show this help message and exit
  --galaxy_component GALAXY_COMPONENT
                        Galaxy Components. Options include Bulge ThinDisk and
                        ThickDisk
  --dist_model DIST_MODEL
                        Galaxy distribution model. fiducial is McMillan (2010)
  --final_kstar1 FINAL_KSTAR1 [FINAL_KSTAR1 ...]
                        Specify the final condition of kstar1, you want
                        systems to end at for your samples
  --final_kstar2 FINAL_KSTAR2 [FINAL_KSTAR2 ...]
                        Specify the final condition of kstar2, you want
                        systems to end at for your samples
  --N_realizations N_REALIZATIONS
                        Number of Galactic realziations to sample
  -n NPROC, --nproc NPROC
                        number of processors
  --gx_save GX_SAVE     Save the galaxy realizations; MAY GENERATE LARGE DATA
                        SETS
  --HG_save HG_SAVE     Save systems which undergo common envelope w/ HG star
                        secondary
  --LISA_calc LISA_CALC
                        Save the PSD of the population in the LISA band
  --verbose             Run in Verbose Mode
</pre></div>
</div>
<div class="section" id="id1">
<h3>Inputs<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>cosmic has several different models to spatially distribute binary sources in the Galaxy, depending on the &#8211;galaxy_component selection. These choices are detailed below, however, in <cite>all cases</cite> the orbital inclination, longitude of the ascending node, and the argument of periapse are randomized.</p>
<div class="section" id="thindisk">
<h4>ThinDisk<a class="headerlink" href="#thindisk" title="Permalink to this headline">¶</a></h4>
<p>There are three models to choose from with a ThinDisk population, where the differences between each model lie in the distbrituion of binaries above and below the disk and the scaling factor of each distribution. The radial distribution of binaries is always an exponential decay, though the scaling can vary from model to model. The azimuthal distribution is always uniform.</p>
<ul class="simple">
<li>&#8216;sech_squared&#8217; : Radial exponential decay distribution with scale factor of 2.5 kpc and sech_squared distribution with scale factor of 0.3 kpc; consistent with Nelemans et al. 2001</li>
<li>&#8216;double_exp&#8217; : Radial and vertical exponential decay distributions, with a scale factor of 2.5 kpc radially and 0.3 kpc vertically</li>
<li>&#8216;McMillan&#8217; : Radial and vertical exponential decay distributions, with a scale factor of 2.9 kpc radially and 0.3 kpc vertically; cosisten with McMillan 2011</li>
</ul>
</div>
<div class="section" id="bulge">
<h4>Bulge<a class="headerlink" href="#bulge" title="Permalink to this headline">¶</a></h4>
<p>There are two models to choose from with a Bulge population.</p>
<ul class="simple">
<li>&#8216;exp_squared&#8217; : Radial exponential squared decay distribution with a scale factor of 0.5 kpc, uniform azimuthal distribution and uniform in cos polar distribution; conisisten with Nelemans et al. 2001</li>
<li>&#8216;McMillan&#8217; : Three dimensional distribution consistent with McMillan 2011</li>
</ul>
</div>
<div class="section" id="thickdisk">
<h4>ThickDisk<a class="headerlink" href="#thickdisk" title="Permalink to this headline">¶</a></h4>
<p>There are two models to choose from with a ThickDisk population. Both use exponentional decay distributions for the radial and vertical directions and uniform azimuthal distribution, but differ in the choice of scale factor.</p>
<ul class="simple">
<li>&#8216;double_exp&#8217; : Radial and vertical exponential decay distributions with radial scale factor of 2.5 kpc and vertical scale factor of 1 kpc</li>
<li>&#8216;McMillan&#8217; : Radial and vertical exponential decay distributions with radial scale factor of 3.1 kpc and vertical scale factor of 0.9 kpc</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h3>Sample command line<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Below is a sample command line input to run 100 Galactic realizations for a thin disk population of white dwarf binaries with a CO WD primary and CO or He WD secondary.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$  --final_kstar1 <span class="m">11</span> --final_kstar2 <span class="m">10</span> <span class="m">11</span> --galaxy_component ThinDisk --dist_model McMillan --N_realizations <span class="m">100</span> --gx_save True --HG_save False --LISA_calc True -n <span class="m">1</span>
</pre></div>
</div>
<p>Let&#8217;s break down each argument:</p>
<ul class="simple">
<li>&#8211;final_ktar1 11 &#8211;final_kstar2 10 11 : this tells cosmic that we want to keep all systems where the primary star is a CO WD and the secondary star is either a CO or He WD.</li>
<li>&#8211;galaxy_component ThinDisk &#8211;dist_model McMillan : this tells cosmic to distribute the thin disk sources according to McMillan 2011</li>
<li>&#8211;N_realizations 100 : this tells cosmic to generate 100 thin disk realizations</li>
<li>&#8211;gx_save True : this tells cosmic to save the galactic realizations - NOTE: this can generate large amounts of data (~3.5G per realization) for large populations (e.g. white dwarf binaries) and large numbers of galactic realizations</li>
<li>&#8211;HG_save False : this tells cosmic to ignore any systems that undergo a common envelope while the secondary is on the Hertzsprung Gap; these systems are expected to merge - see Belczynski et al. 2008 for more details</li>
<li>&#8211;LISA_calc True : this tells cosmic to compute the gravitational wave power which can be used to generate the population&#8217;s power spectral density observable by LISA</li>
<li>-n : this tells cosmic to use 1 processor - NOTE: multiprocessing is available!</li>
</ul>
</div>
<div class="section" id="output-of-gxrealization">
<h3>Output of gxRealization<a class="headerlink" href="#output-of-gxrealization" title="Permalink to this headline">¶</a></h3>
<p>The output of gxRealization is file for every Galactic realization created where each realization file is an hdf5 file with a naming scheme that tells you the Galctic realization number, the Galactic component, and final kstars of the population; the 0th realization data file created by the gxRealization call above is: gxReal_0_ThinDisk_11_10_11.h5.</p>
<p>Each realization contains up to four pandas DataFrames accessed by the following keys:</p>
<ul class="simple">
<li>gx_dat : The full realization, including binary parameters, spatial distribution, and binary orientation</li>
<li>PSD : The LISA signal to power spectral density data including the gravitational wave frequency and PSD</li>
</ul>
<p>WARNING - if you set gx_save to False and LISA_calc to False you will get no output!</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../runpop/index.html" class="btn btn-neutral" title="Generate a binary population by hand" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Katie Breivik.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0+untagged.370.geaeea39.dirty',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>